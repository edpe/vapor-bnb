<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>¬ / - B o o k i n g . b i z - \ ¬</title>
    <script type="text/javascript" src="../../../lib/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  </head>
  <body>

    <!-- space details -->
    <div class="space_details">
      <h1><%= @space.name %></h1>
      <p><%= @space.description %></p>
      <p>Δ <%= @space.price %></p>
    </div>

    <!-- booking form -->
    <form action="/bookings" method="post">
      <label for="date">
      Date:
      </label>
      <input type="text" id="datepicker" name="date">
      <input type="submit" value=" b o o k " />
    </form>

    <!-- back button -->
    <form action="/spaces">
      <input type="submit" value=" ← ">
    </form>

    <script>

    $(document).ready(function() {
      $( function() {
        var dates = <%= @dates %>;

        $( "#datepicker" ).datepicker({
          dateFormat: "dd-mm-yy",
          beforeShowDay: function(date) {
            var string = jQuery.datepicker.formatDate('yy-mm-dd', date);
            return [ dates.indexOf(string) == -1 ];
          }
        });
      });
    });

  </script>
  </body>
</html>
